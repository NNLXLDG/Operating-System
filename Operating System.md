# 第一章 计算机系统概述

## 1.1 操作系统的概念（定义）

### 1.1.1 计算机系统的层次结构
- 用户层：通过操作系统的接口使用计算机
- 操作系统层：作为系统资源的管理者，向上提供接口，向下管理硬件
- 应用程序层：运行在操作系统上的软件（如QQ、浏览器等）
- 硬件层（裸机）：包含CPU、内存、硬盘、主板等物理组件

### 1.1.2 操作系统的定义
- 操作系统（Operating System，OS）是控制和管理整个计算机系统的硬件和软件资源，并合理地组织调度计算机的工作和资源分配的系统软件
- 它是计算机系统中最基本的系统软件
- 操作系统位于硬件和用户之间，是用户与计算机硬件之间的接口

## 1.2 操作系统的功能和目标

### 1.2.1 作为系统资源的管理者
- CPU管理：处理机分配、进程调度
- 存储器管理：内存分配、回收、地址转换
- 文件管理：文件的存储、检索、共享和保护
- 设备管理：设备分配、缓冲管理、设备驱动

### 1.2.2 向上层提供方便易用的服务
- 用户接口：
  - GUI（图形用户接口）：如Windows的图形界面
  - 联机命令接口（交互式命令接口）：如Windows的CMD命令行
  - 脱机命令接口（批处理命令接口）：如.bat批处理文件
  - 程序接口（系统调用）：应用程序请求操作系统服务的唯一方式

### 1.2.3 作为最接近硬件的层次
- 操作系统将硬件资源抽象化，提供统一的管理界面
- 将裸机（纯硬件）改造成功能更强、使用更方便的虚拟机
- 对硬件的拓展：合理组织CPU、内存、磁盘、显示器、键盘等硬件，实现复杂功能
- 用户无需关心底层硬件的实现细节，只需使用操作系统提供的接口

## 1.3 知识回顾与重要考点
- 操作系统是系统资源的管理者
- 操作系统向上提供用户接口，向下管理硬件资源
- 操作系统将裸机改造成功能更强的虚拟机
- 操作系统的三大基本特征：并发、共享、虚拟



# 操作系统的四个特征

## 1. 并发性

### 1.1 并发的定义
- 并发：指两个或多个事件在同一时间间隔内发生
- 这些事件宏观上是同时发生的，但微观上是交替发生的
- 操作系统的并发性指计算机系统中"同时"运行着多个程序，宏观上看是同时运行，微观上看是交替运行

### 1.2 并行与并发的区别
- **并行**：两个或多个事件在同一时刻同时发生
- **并发**：两个或多个事件在同一时间间隔内发生，宏观同时，微观交替

### 1.3 并发性的实现
- 操作系统是伴随着"多道程序技术"而出现的
- 单核CPU同一时刻只能执行一个程序，各个程序只能并发地执行
- 多核CPU同一时刻可以同时执行多个程序，多个程序可以并行地执行
- 即使是多核CPU，当需要运行超过CPU核心数的程序时，并发性依然必不可少

## 2. 共享性

### 2.1 共享的定义
- 共享即资源共享，是指系统中的资源可供内存中多个并发执行的进程共同使用
- 两种共享方式：
  - 互斥共享：资源在一段时间内只允许一个进程访问（如摄像头）
  - 同时共享：资源在一段时间内允许多个进程"同时"访问（如硬盘）

### 2.2 共享的生活实例
- 互斥共享：使用QQ和微信视频，同一时间段内摄像头只能分配给其中一个进程
- 同时共享：使用QQ发送文件A，同时使用微信发送文件B，宏观上看两边都在同时读取并发送文件，微观上看是交替访问硬盘

### 2.3 并发与共享的关系
- 并发性指计算机系统中同时存在着多个运行着的程序
- 共享性是指系统中的资源可供内存中多个并发执行的进程共同使用
- 如果失去并发性，则系统中只有一个程序正在运行，共享性失去存在的意义
- 如果失去共享性，则无法实现并发，资源无法被多个程序同时使用

## 3. 虚拟性

### 3.1 虚拟的定义
- 虚拟是指把一个物理上的实体变为若干个逻辑上的对应物
- 物理实体（前者）是实际存在的，而逻辑上对应物（后者）是用户感受到的

### 3.2 虚拟技术的实现
- **空分复用技术**（如虚拟存储器）：
  - 例：GTA5需要4GB内存，QQ需要256MB，迅雷需要256MB，网易云音乐需要256MB
  - 实际只有4GB内存，通过虚拟存储器技术，在用户看来似乎远远大于4GB

- **时分复用技术**（如虚拟处理器）：
  - 例：单核CPU的电脑中同时运行多个程序
  - 实际只有一个单核CPU，通过时分复用技术，在用户看来似乎有多个CPU在同时服务

### 3.3 虚拟性与并发性的关系
- 如果失去了并发性，则一个时间段内系统中只需运行一道程序，失去了实现虚拟性的意义
- 因此，没有并发性，就谈不上虚拟性

## 4. 异步性

### 4.1 异步的定义
- 异步是指，在多道程序环境下，允许多个程序并发执行
- 由于资源有限，进程的执行不是一贯到底的，而是走走停停，以不可预知的速度向前推进

### 4.2 异步性的原因
- 并发运行的程序会争抢着使用系统资源
- 系统中的资源有限，因此进程的执行不是一贯到底，而是走走停停的
- 以不可预知的速度向前推进，这就是进程的异步性

### 4.3 异步性与并发性的关系
- 如果失去了并发性，即系统只能串行地运行各个程序，那么每个程序的执行会一贯到底
- 只有系统拥有并发性，才有可能导致异步性

## 5. 四个特征之间的关系

### 5.1 基本特征与派生特征
- **并发和共享是操作系统最基本的特征**
- 虚拟和异步是由并发和共享引起的，是派生特征

### 5.2 重要考点
- 理解并发和并行的区别
- 并发和共享互为存在条件
- 没有并发和共享，就谈不上虚拟和异步
- 并发和共享是操作系统的两个最基本的特征








